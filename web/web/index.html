<html>
    <head>

    </head>
    <body>
        <p id="greeting">Hello Anonymous</p>
        <p id="data">Hidden data</p>
        <button id="btn-login">Log in</button>
        <button id="btn-logout">Log out</button>
        <button id="btn-data">pull data</button>
    </body>
    <script>
        document.getElementById('btn-login').addEventListener('click', () => {
            fetch('/oauth2/userinfo',{
            credentials: "include"
        }).then( e => {
           console.log(e);
        }) 
        })
        document.getElementById('btn-logout').addEventListener('click', () => {
            fetch('/oauth2/sign_out',{
            credentials: "include"
        }).then( e => {
           console.log(e);
        }) 
        })
        document.getElementById('btn-data').addEventListener('click', () => {
            fetch('http://localhost:3003/api/protectedData',{
            credentials: "include",
            mode: "cors"
        }).then( e => {
           document.getElementById("data").innerHTML = e;
           console.log(e);
        }) 
        })
    </script>
</html>